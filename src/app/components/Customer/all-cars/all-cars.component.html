<app-navbar></app-navbar>
<br>

<h1 class="  text-center" style=" font-family:Lucida Sans;">cars-listing-search</h1>

    <div class="container-fluid">
        <div class="row">
          
          
            <!-- Left Sidebar - Search Filters -->
            <div class="col-md-3 ">
                <div class="p-3 border rounded bg-light">

                  <div>
                    <h5 class="text-center">Change Dates</h5><hr>
                    <label for="pickupDate">Pickup Date:</label>
                    <input type="date" class="form-control" id="pickupDate" [(ngModel)]="pickupDate" (change)="calculateDateDifference()" />
                 
                    <label for="returnDate" class="mt-2">Return Date:</label>
                    <input type="date" class="form-control" id="returnDate" [(ngModel)]="returnDate" (change)="calculateDateDifference()" />
                  <div class="d-flex justify-content-center">
                    <button (click)="updateDates()" class="btn btn-secondary  mt-3 mb-4 ">Save Dates</button>
    
                    <p *ngIf="dateDifference !== null">Duration: {{ dateDifference }} day(s)</p>
                  </div>
                </div>
                  <hr>
                    <h5 class="text-center">What Are You Looking For</h5>
                    <hr>
          

                    <h6>Brand</h6>
<div class="mb-3">
  <select class="form-select" [(ngModel)]="filterCriteria.brand">
    <option value="">Select brand</option>
    <option *ngFor="let card of cards" [value]="card.title">{{ card.title }}</option>
  </select>
</div>

<h6>Description</h6>
<div class="mb-3">
  <select class="form-select" [(ngModel)]="filterCriteria.description">
    <option value="">Select description</option>
    <option *ngFor="let card of cards" [value]="card.description">{{ card.description }}</option>
  </select>
</div>

<h6>Seat Count</h6>
<div class="mb-3">
  <select class="form-select" [(ngModel)]="filterCriteria.seatCount">
    <option value="">Select seat count</option>
    <option *ngFor="let count of [4, 5, 6, 7, 8, 2]" [value]="count">{{ count }} People</option>
  </select>
</div>

<h6>Fuel Type</h6>
<div class="mb-3">
  <select class="form-select" [(ngModel)]="filterCriteria.fuel">
    <option value="">Select fuel type</option>
    <option value="Manual">Manual</option>
    <option value="Automatic">Automatic</option>
  </select>
</div>

<h6>Gear Type</h6>
<div class="mb-3">
  <select class="form-select" [(ngModel)]="filterCriteria.gear">
    <option value="">Select gear type</option>
    <option value="Manual">Manual</option>
    <option value="Automatic">Automatic</option>
  </select>
</div>

                  
                </div>
            </div>

            <!-- Right Side - Car Grid View -->
            <div class="col-md-9">
                <div class="card  shadow-sm">
                    <div class="row g-0">
                        <div class="container py-5">
                            
                            <div class="container">
                                <div class="row g-4">
                                  <div class="col-md-4" *ngFor="let card of paginatedCards | filter: filterCriteria">
                                    <div class="card">
                                      <div class="position-relative">
                                        <img [src]="card.image" class="card-img-top" alt="Car Image">
                                        <div class="price-tag">{{ card.price }}</div>
                                      </div>
                                      <div class="card-body">
                                        <div class="icon">
                                          <i class="fa-solid fa-star text-warning" *ngFor="let _ of [1,2,3,4,5]" style="font-size:12px;"></i>
                                        </div>
                                        <h5 class="card-title">{{ card.title }}</h5>
                                        <p class="card-text">{{ card.description }}</p>
                                        <hr>
                                        <div class="feature">
                                          <span class="icon"><i class="fa-solid fa-chair" style="font-size:20px;"></i></span> 
                                          SeatCount: {{ card.seatCount }} People
                                        </div>
                                        <div class="feature">
                                          <span class="icon"><i class="fa-solid fa-door-open" style="font-size:20px;"></i></span>
                                          Total Doors: {{ card.doors }} Doors
                                        </div>
                                        <div class="feature">
                                          <span class="icon"><i class="fa-solid fa-gas-pump" style="font-size:20px;"></i></span>
                                          Fuel Tank: {{ card.fuel }} Liters
                                        </div>

                                        <div class="feature">
                                          <span class="icon"><i class="fa-solid fa-gas-pump" style="font-size:20px;"></i></span>
                                          Geartype: {{ card.Gear }}  
                                        </div>
                                        <div>
                                          <button type="button" class="btn btn-outline-warning" style="width:100%;">
                                          <a routerLink="/ConfirmRent" style="text-decoration: none;"> Rent Now</a>
                                        </button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              
                                <!-- Pagination Controls -->
                                <div class="pagination-controls mt-3 d-flex justify-content-center">
                                  <button class="btn btn-outline-secondary me-2" (click)="prevPage()" [disabled]="currentPage === 1">Previous</button>
                                  <span>Page {{ currentPage }} of {{ totalPages() }}</span>
                                  <button class="btn btn-outline-secondary ms-2" (click)="nextPage()" [disabled]="currentPage === totalPages()">Next</button>
                                </div>
                              </div>   


                        </div>


                       
                    </div>
                </div>
            </div>
        </div>
    </div>    
      

<app-footer></app-footer>