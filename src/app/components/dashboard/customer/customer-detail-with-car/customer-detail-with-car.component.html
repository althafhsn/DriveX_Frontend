<div *ngIf="customerResponse">
  <div class="card shadow-sm rounded p-4 position-relative">
    <!-- Edit/Save Button -->

    <div class="position-absolute top-0 end-0 m-2">
      <button
        class="btn btn-outline-primary me-2"
        (click)="toggleEdit()"
      >
        {{ isEditable ? 'Save' : 'Edit' }}
      </button>
      <button
        class="btn btn-outline-danger"
        (click)="deleteCustomer()"
      >
        Delete
      </button>
    </div>
    

    <!-- Customer Basic Info -->
    <div class="d-flex align-items-center mb-4">
      <img
        [src]="customerResponse.customer.image || 'P1.jpg'"
        alt="Customer Avatar"
        class="rounded-circle border"
        style="width: 80px; height: 80px; object-fit: cover;"
      />
      <div class="ms-3">
        <h4 class="fw-bold mb-1">
          <span *ngIf="!isEditable">{{ customerResponse.customer.firstName }}</span>
          <input
            *ngIf="isEditable"
            [(ngModel)]="customerResponse.customer.firstName"
            class="form-control"
          />
        </h4>
        <h4 class="fw-bold mb-1">
          <span *ngIf="!isEditable">{{ customerResponse.customer.lastName }}</span>
          <input
            *ngIf="isEditable"
            [(ngModel)]="customerResponse.customer.lastName"
            class="form-control"
          />
        </h4>
       
      </div>
    </div>
    <div class="row text-center border-top pt-3">
      <div class="col-6 col-md-3 mb-3">
        <h5 class="fw-bold">
          <span *ngIf="!isEditable">{{ customerResponse.customer.nic }}</span>
          <input
            *ngIf="isEditable"
            [(ngModel)]="customerResponse.customer.nic"
            class="form-control"
          />
        </h5>
        <p class="small text-muted">NIC</p>
      </div>
      <div class="col-6 col-md-3 mb-3">
        <h5 class="fw-bold">
          <span *ngIf="!isEditable">{{ customerResponse.customer.licence }}</span>
          <input
            *ngIf="isEditable"
            [(ngModel)]="customerResponse.customer.licence"
            class="form-control"
          />
        </h5>
        <p class="small text-muted">Licence</p>
      </div>
      <div class="col-6 col-md-3 mb-3">
        <h5 class="fw-bold">
          <span *ngIf="!isEditable">{{ customerResponse.customer.status }}</span>
          <input
            *ngIf="isEditable"
            [(ngModel)]="customerResponse.customer.status"
            class="form-control"
          />
        </h5>
        <p class="small text-muted">Status</p>
      </div>
      <div class="col-6 col-md-3 mb-3">
        <h5 class="fw-bold">
          <span *ngIf="!isEditable">{{ customerResponse.customer.notes }}</span>
          <input
            *ngIf="isEditable"
            [(ngModel)]="customerResponse.customer.notes"
            class="form-control"
          />
        </h5>
        <p class="small text-muted">Notes</p>
      </div>
    </div>

    <!-- Addresses -->
    <div *ngFor="let address of customerResponse.customer.addresses" class="row text-center border-top pt-3">
      <div class="col-6 col-md-3 mb-3">
        <h5 class="fw-bold">
          <span *ngIf="!isEditable">{{ address.houseNo }}</span>
          <input
            *ngIf="isEditable"
            [(ngModel)]="address.houseNo"
            class="form-control"
            placeholder="House No"
          />
        </h5>
        <p class="small text-muted">House No</p>
      </div>
      <div class="col-6 col-md-3 mb-3">
        <h5 class="fw-bold">
          <span *ngIf="!isEditable">{{ address.street1 }}</span>
          <input
            *ngIf="isEditable"
            [(ngModel)]="address.street1"
            class="form-control"
            placeholder="Street 1"
          />
        </h5>
        <p class="small text-muted">Street 1</p>
      </div>
      <div class="col-6 col-md-3 mb-3">
        <h5 class="fw-bold">
          <span *ngIf="!isEditable">{{ address.street2 }}</span>
          <input
            *ngIf="isEditable"
            [(ngModel)]="address.street2"
            class="form-control"
            placeholder="Street 2"
          />
        </h5>
        <p class="small text-muted">Street 2</p>
      </div>
      <div class="col-6 col-md-3 mb-3">
        <h5 class="fw-bold">
          <span *ngIf="!isEditable">{{ address.city }}</span>
          <input
            *ngIf="isEditable"
            [(ngModel)]="address.city"
            class="form-control"
            placeholder="City"
          />
        </h5>
        <p class="small text-muted">City</p>
      </div>
      <div class="col-6 col-md-3 mb-3">
        <h5 class="fw-bold">
          <span *ngIf="!isEditable">{{ address.zipCode }}</span>
          <input
            *ngIf="isEditable"
            [(ngModel)]="address.zipCode"
            class="form-control"
            placeholder="City"
          />
        </h5>
        <p class="small text-muted">ZipCode</p>
      </div>
      <div class="col-6 col-md-3 mb-3">
        <h5 class="fw-bold">
          <span *ngIf="!isEditable">{{ address.country }}</span>
          <input
            *ngIf="isEditable"
            [(ngModel)]="address.country"
            class="form-control"
            placeholder="City"
          />
        </h5>
        <p class="small text-muted">Country</p>
      </div>
    </div>
    <button *ngIf="isEditable && customerResponse.customer.addresses.length < 2" class="btn btn-outline-primary mb-3" (click)="addAddress()">+ Add Address</button>

    

    <!-- Phone and Email -->
   <!-- Phone Numbers -->
   <div *ngFor="let phone of customerResponse.customer.phoneNumbers" class="border-top pt-3">
    <p class="mb-2">
      <i class="fas fa-phone-alt text-primary me-2"></i>
      <span *ngIf="!isEditable">{{ phone.mobile1 }}</span>
      <input
        *ngIf="isEditable"
        [(ngModel)]="phone.mobile1"
        class="form-control"
      />
    </p>
    <button *ngIf="isEditable && customerResponse.customer.phoneNumbers.length < 2" class="btn btn-outline-primary mb-3" (click)="addPhoneNumber()">+ Add Phone Number</button>
  </div>
      <p>
        <i class="fas fa-envelope text-primary me-2"></i>
        <span *ngIf="!isEditable">{{ customerResponse.customer.email }}</span>
        <input
          *ngIf="isEditable"
          [(ngModel)]="customerResponse.customer.email"
          class="form-control"
        />
      </p>
    </div>

  
  </div>

